{% load static %}
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookSwap - –ì–æ–ª–æ–≤–Ω–∞</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* –î–æ–¥–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∏–ª—å, —â–æ–± –≤—ñ–∫–Ω–æ –≤–∏–≥–ª—è–¥–∞–ª–æ –≥–∞—Ä–Ω–æ */
        body { margin: 0; font-family: 'Inter', sans-serif; }
        a { text-decoration: none; }
    </style>
</head>
<body>
    <header class="site-header">
        <div class="logo-main">üíú BookSwap</div>
        <nav>
            <a href="#">–ö–∞—Ç–∞–ª–æ–≥</a>
            <a href="#">–ü—Ä–æ –Ω–∞—Å</a>
            <button class="auth-trigger" id="openAuth">–£–≤—ñ–π—Ç–∏</button>
        </nav>
    </header>

    <main class="hero-section">
        <h1>–ó–Ω–∞–π–¥—ñ—Ç—å —Å–≤–æ—é –Ω–∞—Å—Ç—É–ø–Ω—É —É–ª—é–±–ª–µ–Ω—É –∫–Ω–∏–≥—É</h1>
        <p>–î–∞–π—Ç–µ –∫–Ω–∏–≥–∞–º –¥—Ä—É–≥–µ –∂–∏—Ç—Ç—è</p>
        <button class="cta-button" onclick="openSignup()">–ü–æ—á–∞—Ç–∏ –æ–±–º—ñ–Ω</button>
    </main>

    <div class="overlay" id="authModal">
        <div class="main-container">
            <button class="close-modal" id="closeAuth">&times;</button>

            <div class="info-section">
                <div class="logo">üíú BookSwap</div>
                <h1>–û–±–º—ñ–Ω—é–π—Ç–µ—Å—è –∫–Ω–∏–≥–∞–º–∏ –ø—Ä–æ—Å—Ç–æ —Ç–∞ –∑ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è–º.</h1>
                <ul class="features">
                    <li><span>‚úî</span> –ü–æ—Ä–∏–Ω–∞–π —É –Ω–æ–≤—ñ —Å–≤—ñ—Ç–∏ —â–æ–¥–Ω—è</li>
                    <li><span>‚úî</span> –ó–∞–æ—â–∞–¥–∂—É–π –∫–æ—à—Ç–∏</li>
                    <li><span>‚úî</span> –ß–∏—Ç–∞–π –±—ñ–ª—å—à–µ, –≤–∏—Ç—Ä–∞—á–∞–π –º–µ–Ω—à–µ</li>
                </ul>
            </div>

            <div class="form-section">

                {% if messages %}
                    {% for message in messages %}
                        <div style="background: #ffcccc; color: #cc0000; padding: 10px; border-radius: 5px; margin-bottom: 10px; text-align: center;">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}

                <div class="form-card" id="signupCard">
                    <div class="toggle-buttons">
                        <button class="btn-toggle" type="button" onclick="showLogin()">–£–≤—ñ–π—Ç–∏</button>
                        <button class="btn-toggle active" type="button">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç</button>
                    </div>
                    <h2>–°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç</h2>

                    <form action="{% url 'register' %}" method="POST">
                        {% csrf_token %}
                        <input type="text" name="username" placeholder="–Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞" required>
                        <input type="email" name="email" placeholder="–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞" required>
                        <input type="password" name="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
                        <button type="submit" class="submit-btn">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç</button>
                    </form>

                    <p class="footer-text">–í–∂–µ –º–∞—î—Ç–µ –∞–∫–∞—É–Ω—Ç? <a href="#" onclick="showLogin()">–£–≤—ñ–π—Ç–∏</a></p>
                </div>

                <div class="form-card" id="loginCard" style="display: none;">
                    <div class="toggle-buttons">
                        <button class="btn-toggle active" type="button">–£–≤—ñ–π—Ç–∏</button>
                        <button class="btn-toggle" type="button" onclick="showSignup()">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç</button>
                    </div>
                    <h2>–ó –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è–º!</h2>

                    <form action="{% url 'login_user' %}" method="POST">
                        {% csrf_token %}
                        <input type="text" name="username" placeholder="–Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞" required>
                        <input type="password" name="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
                        <button type="submit" class="submit-btn">–ü–æ—á–∞—Ç–∏ –æ–±–º—ñ–Ω</button>
                    </form>

                    <p class="footer-text">–ù–µ –º–∞—î—Ç–µ –∞–∫–∞—É–Ω—Ç—É? <a href="#" onclick="showSignup()">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—å</a></p>
                </div>
            </div>

                <div class="form-card" id="loginCard" style="display: none;">
                    <div class="toggle-buttons">
                        <button class="btn-toggle active">–£–≤—ñ–π—Ç–∏</button>
                        <button class="btn-toggle" onclick="showSignup()">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç</button>
                    </div>
                    <h2>–ó –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è–º!</h2>
                    <form action="{% url 'profile' %}"> <input type="text" placeholder="–Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞" required>
                        <input type="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
                        <button type="submit" class="submit-btn">–ü–æ—á–∞—Ç–∏ –æ–±–º—ñ–Ω</button>
                    </form>
                    <p class="footer-text">–ù–µ –º–∞—î—Ç–µ –∞–∫–∞—É–Ω—Ç—É? <a href="#" onclick="showSignup()">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—å</a></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const modal = document.getElementById('authModal');
        const signupCard = document.getElementById('signupCard');
        const loginCard = document.getElementById('loginCard');

        // –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –≤—ñ–∫–Ω–∞
        document.getElementById('openAuth').onclick = () => {
            modal.classList.add('active');
            showLogin();
        };

        function openSignup() {
            modal.classList.add('active');
            showSignup();
        }

        // –ó–∞–∫—Ä–∏—Ç—Ç—è
        document.getElementById('closeAuth').onclick = () => modal.classList.remove('active');
        window.onclick = (e) => { if (e.target == modal) modal.classList.remove('active'); };

        // –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –≤–∫–ª–∞–¥–æ–∫
        function showLogin() {
            signupCard.style.display = 'none';
            loginCard.style.display = 'block';
        }
        function showSignup() {
            loginCard.style.display = 'none';
            signupCard.style.display = 'block';
        }
    </script>
</body>
</html>
